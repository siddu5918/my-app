<p>create-user works!</p>
 
<h1>create-user form</h1>
    
  <form [formGroup]="userForm">
  <label>Name:</label>
  <input type="text" formControlName="name">
  <div class="error" *ngIf="userForm.get('name')?.touched && userForm.get('name')?.invalid">
    <p *ngIf="userForm.get('name')?.errors?.['required']">this field is required</p>
    <p *ngIf="userForm.get('name')?.errors?.['minilength']">this field is required</p>
    <p *ngIf="userForm.get('name')?.errors?.['maxlength']">this field is required</p>
    
  </div>
  <br>
  <label>phone:</label>
   <input type="text" formControlName="phone"> 
   <div class="error" *ngIf="userForm.get('phone')?.touched && userForm.get('phone')?.invalid">
    <p *ngIf="userForm.get('phone')?.errors?.['required']">this field is required</p>
    <p *ngIf="userForm.get('phone')?.errors?.['min']">phone no should be  min 10 digits</p>
    <p *ngIf="userForm.get('phone')?.errors?.['max']">phone no should be max 10 digits</p>

    </div>
  <br>
  <label>Dob:</label>
  <input type="date" formControlName="dob">

  <h2>address</h2>

  <div formControlName="address">

  <label>City:</label>
  <input type="text" formControlName="city">
  <br>

  <label>pin:</label>
  <input type="number" formControlName="pin">
  <div class="error" *ngIf="userForm.get('address')?.get('pin')?.touched && userForm.get('address')?.get('pin')?.invalid">
    <p *ngIf="userForm.get('address')?.get('pin')?.errors?.['required']">pin is required</p>
    <p *ngIf="userForm.get('address')?.get('pin')?.errors?.['min']">pin should contain 6 digits </p>
    <p *ngIf="userForm.get('address')?.get('pin')?.errors?.['max']">pin  should contain 6 digits</p>
</div>
<br>

<button (click)="add()">add card</button>

<div formArrayName="cards">
<div *ngFor="let card of cardsFormArray?.controls;let i=index">
    <div formGroupName="{{i}}">

        <input type="text" formControlName="name" placeholder="name">
        <br>
        <input type="text" formControlName="expiry" placeholder="expiry">
        <br>
        <input type="text" formControlName="cvv" placeholder="cvv">
        <div class="error" *ngIf="cardsFormArray.controls[i].get('cvv')?.touched && cardsFormArray.controls[i].get('cvv')?.invalid">
          <p *ngIf="cardsFormArray.controls[i].get('cvv')?.errors?.['required']">cvv is required</p>
          <p *ngIf="cardsFormArray.controls[i].get('cvv')?.errors?.['min']">cvv min 3 digits </p>
          <p *ngIf="cardsFormArray.controls[i].get('cvv')?.errors?.['max']">cvv max 3 digits </p>
          
        </div>

        <button class="btn btn-danger"(click)="delete(i)">delete</button>
        <br><br>


    </div>
    </div>
</div>
<br>

 <label>type:</label>
 <input type="radio"name="type" formControlName="type" value="dayscholor">
<label>dayscholor:</label>
<input type="radio" name ="type" formControlName="type" value="residential">
<label>residential</label>
<br>


<div *ngIf="userForm.get('type')?.value=='dayscholor'">
<label>bus fee</label>
<input type="number" formControlName="busFee">
<br>
</div>

<div *ngIf="userForm.get('type')?.value=='residential'">
<label>hostel fee</label>
<input type="number" formControlName="hostelFee">
<br>
</div>

<button (click)="submit()">submit</button>


     

